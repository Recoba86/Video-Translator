# 🎯 راهنمای بهبود کیفیت ترجمه

## ✅ تغییرات انجام شده

### قبل (ترجمه تحت‌اللفظی):
```
"How about at two?" → "در مورد در دو چطور است؟" ❌
```

### بعد (ترجمه طبیعی):
```
"How about at two?" → "ساعت دو چطوره؟" ✅
```

---

## 🔧 بهبودهای پرامپت Gemini

### ۱. **زبان محاوره‌ای**
- استفاده از فارسی روزمره و گفتاری
- نه زبان رسمی یا ادبی

### ۲. **عبارات رایج**
پرامپت حالا مثال‌های خاص دارد:

| انگلیسی | ترجمه قبلی (ضعیف) | ترجمه جدید (قوی) |
|---------|-------------------|-------------------|
| "How about..." | "در مورد ... چطور است" | "چطوره..." یا "چه میگی به..." |
| "at two" | "در دو" | "ساعت دو" |
| "What do you think?" | "چه فکر می‌کنید؟" | "نظرت چیه؟" |
| "Let's go" | "بیایید برویم" | "بریم" |
| "I don't know" | "من نمی‌دانم" | "نمیدونم" |

### ۳. **حفظ لحن**
- اگر متن غیررسمی است → فارسی محاوره‌ای
- اگر متن رسمی است → فارسی رسمی (ولی نه ادبی)

### ۴. **جملات کوتاه**
- ترجمه‌های کوتاه و روان
- مناسب برای زیرنویس (خواندن سریع)

---

## 📊 مثال‌های واقعی

### مثال ۱: مکالمه دوستانه
```
Original: "Hey! How about we meet at two?"
قبل: "سلام! در مورد اینکه ما در ساعت دو ملاقات کنیم چطور است؟"
بعد: "سلام! ساعت دو همدیگه رو ببینیم چطوره؟"
```

### مثال ۲: سوال ساده
```
Original: "What time is it?"
قبل: "چه زمانی است؟"
بعد: "ساعت چنده؟"
```

### مثال ۳: پیشنهاد
```
Original: "Let's go to the park!"
قبل: "بیایید به پارک برویم!"
بعد: "بریم پارک!"
```

---

## 🎬 مناسب برای زیرنویس

ترجمه‌های جدید:
- ✅ کوتاه‌تر (فضای کمتر روی صفحه)
- ✅ سریع‌تر خوانده می‌شوند
- ✅ طبیعی‌تر به نظر می‌رسند
- ✅ مثل حرف زدن واقعی

---

## 🔄 نحوه تست

### برای تست ترجمه جدید:

1. یک ویدئوی کوتاه انگلیسی انتخاب کنید
2. در http://localhost:8000/simple پردازش کنید
3. ترجمه‌ها را بررسی کنید
4. باید طبیعی و محاوره‌ای باشند

### ویدئوهای پیشنهادی برای تست:
- مکالمات روزمره
- دیالوگ‌های فیلم
- مصاحبه‌های غیررسمی
- ولاگ‌های یوتیوب

---

## ⚙️ تنظیمات پیشرفته

اگر می‌خواهید سبک ترجمه را تغییر دهید، فایل را ویرایش کنید:
```
video_processor_gemini.py
خط ~90: تابع translate_text()
```

### گزینه‌های قابل تنظیم:

#### برای زبان رسمی‌تر:
```python
"Use FORMAL Persian for professional content"
"نمیدونم" → "نمی‌دانم"
```

#### برای زبان خیلی محاوره‌ای:
```python
"Use VERY CASUAL Persian like texting"
"ساعت چنده؟" → "چند وقته؟"
```

---

## 🐛 عیب‌یابی

### اگر ترجمه‌ها هنوز رسمی هستند:

1. **Celery را ریستارت کنید:**
```bash
pkill -9 -f "celery.*tasks"
source venv/bin/activate
celery -A tasks worker --loglevel=info > logs/celery.log 2>&1 &
```

2. **Redis را پاک کنید:**
```bash
redis-cli FLUSHDB
```

3. **یک ویدئوی جدید امتحان کنید**

---

## 💡 نکات مهم

### ✅ انجام دهید:
- از ویدئوهای با مکالمات واضح استفاده کنید
- صدای واضح = ترجمه بهتر
- ویدئوهای کوتاه برای تست

### ❌ انجام ندهید:
- ویدئوهای با موسیقی بلند (Whisper اشتباه می‌کند)
- لهجه‌های خاص (ممکن است مشکل داشته باشد)
- صحبت خیلی سریع (Whisper سخت‌تر تشخیص می‌دهد)

---

## 🎯 نتیجه

با این تغییرات:
- ترجمه‌ها **طبیعی‌تر** هستند
- مناسب **زیرنویس فارسی** 
- **خواندن آسان‌تر**
- **درک بهتر** توسط بیننده

**امتحان کنید و نتیجه را به من بگویید!** 🚀
